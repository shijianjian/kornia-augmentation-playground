<mat-accordion style="width: 100%;">
  <mat-expansion-panel (opened)="onOpened()" (closed)="onClosed()">
    <mat-expansion-panel-header style="height: auto; color:antiquewhite">
      <mat-panel-title style="width: 100%; min-height: 50px;">
        <div>
          <div style="display: flex;">
            <mat-chip-list style="margin-top: 0.5em; margin-right: 1em;">
              <mat-chip style="width: 52px;" [style.background-color]="item ? getColorByKey(item.opType) : '#000000'">{{ item ? getShorthand(item.opType) : item?.opType }}</mat-chip>
            </mat-chip-list>
            <p>{{ item?.name }}</p>
          </div>
          <mat-panel-description *ngIf="!panel_opened && show_details">{{ item?.kwargs | korniajson }}</mat-panel-description>
        </div>
      </mat-panel-title>
    </mat-expansion-panel-header>

    <kornia-auto-form
      style="padding-top: 10px;"
      [operation]="item"
      (formUpdated)="onFormUpdated($event);"></kornia-auto-form>
    <mat-action-row>
      <button style="float: right;"
        mat-button color="warn"
        matTooltip="Remove this operation"
        (click)="onRemove(); $event.stopPropagation();">Remove</button>
      <button style="float: right;"
        matTooltip="Run this operation only"
        mat-button color="primary"
        (click)="onRun(); $event.stopPropagation();">Run</button>
    </mat-action-row>
  </mat-expansion-panel>
</mat-accordion>